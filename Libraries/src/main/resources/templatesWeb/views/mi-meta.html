<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
      th:with="title='La Fabril | Mi meta', menu='Meta'">

<head>
    <title>Title</title>
</head>
<body>

<th:block layout:fragment="content">

    <div class="container margin-bottom-75">
        <div class="section-title style6 text-center margin-top-40">
            <h3>Mi meta</h3>
            <span class="sub-title"></span>
        </div>
        <div class="row margin-bottom-25">
            <div class="col-md-12">
                <p style="font-weight: 600">[[${session.participante.nombresParticipante}]], ¡Sigue acumulando ventas!</p>
            </div>
            <div class="col-md-4 col-xs-12">
                <select name="" class="normal" id="trimestreSelect" style="width: 100%;">
                    <option value="1" class="normal">Trimestre I</option>
                    <option value="2" class="normal">Trimestre II</option>
                    <option value="3" class="normal">Trimestre III</option>
                    <option value="4" class="normal">Trimestre IV</option>

                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <p>➤ Tu avance a la fecha: <b>
                    <span id="avance" class="monto-facturado monto-compra">$2600</span> </b></p>
                <p>➤ Sólo te falta: <b>
                    <span id="faltante" class="monto-facturado monto-compra">$1400</span> </b></p>
            </div>
            <div class="col-sm-12  margin-top-40">
                <p class="text-center" style="font-weight: 600">Tu meta del trimestre es: <b>
                    <span id="meta" class="monto-meta monto-compra">$4000 </span> </b>
                </p>
                <div id="nexxt"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12  margin-top-40">
                <h4 style="border-bottom: 1px solid #e5e5e5;line-height: 45px;font-weight: 600"><span class="icon pe-7s-cash" style="font-size: 25px"></span> Pago de rebate:</h4>
            </div>
            <div class="col-md-12">
                <p>➤ Porcentaje de rebate: <b>
                    <span id="porcentajeRebate" class="monto-facturado monto-compra">1%</span> </b></p>
                <p>➤ Valor de pago: <b>
                    <span id="valorPago" class="monto-facturado monto-compra">$900</span> </b></p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12  margin-top-40">
                <h4 style="border-bottom: 1px solid #e5e5e5;line-height: 45px;font-weight: 600"><span class="icon pe-7s-note2" style="font-size: 25px"></span> Acciones de Sell Out:</h4>
            </div>
            <div class="col-sm-12">
                <div class="table-responsive">
                    <table class="group-product table">
                        <tr>
                            <th>Fecha</th>
                            <th>Acción</th>
                            <th>Descripción</th>
                            <th>Cantidad</th>
                        </tr>
                        <tbody id="accionesTable">
                                                <tr>
                                                    <td>04/02/2025</td>
                                                    <td>On pack favorita</td>
                                                    <td>Por cada 2 favoritas 1 litro gratis</td>
                                                    <td>50</td>
                                                </tr>
                        </tbody>
<!--                        <tr>-->
<!--                            <td>04/02/2025</td>-->
<!--                            <td>On pack favorita</td>-->
<!--                            <td>Por cada 2 favoritas 1 litro gratis</td>-->
<!--                            <td>50</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>04/02/2025</td>-->
<!--                            <td>Minuto la fabril</td>-->
<!--                            <td>Premio instantáneo</td>-->
<!--                            <td>1</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>04/02/2025</td>-->
<!--                            <td>On pack favorita</td>-->
<!--                            <td>Por cada 2 favoritas 1 litro gratis</td>-->
<!--                            <td>50</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>04/02/2025</td>-->
<!--                            <td>Minuto la fabril</td>-->
<!--                            <td>Premio instantáneo</td>-->
<!--                            <td>1</td>-->
<!--                        </tr>-->
                    </table>
                </div>
            </div>
        </div>
    </div>
    <th:block th:replace="~{fragments/resources :: scripts}"/>

    <!-- Resources chart-->
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

    <script>
        // am4core.ready(function() {
        //
        //     // Themes begin
        //     am4core.useTheme(am4themes_animated);
        //     // Themes end
        //
        //
        //
        //     var container = am4core.create("nexxt", am4core.Container);
        //     container.width = am4core.percent(100);
        //     container.height = am4core.percent(100);
        //     container.layout = "vertical";
        //
        //     createBulletChart(container, "solid");
        //
        //     /* Create ranges */
        //     function createRange(axis, from, to, color) {
        //         var range = axis.axisRanges.create();
        //         range.value = from;
        //         range.endValue = to;
        //         range.axisFill.fill = color;
        //         range.axisFill.fillOpacity = 0.8;
        //         range.label.disabled = true;
        //         range.grid.disabled = true;
        //     }
        //
        //     /* Create bullet chart with specified color type for background */
        //     function createBulletChart(parent, colorType) {
        //         var colors = ["#cfa47096", "#cfa470b8", "#cfa470cf", "#cfa470e8", "#cfa470"];
        //
        //         /* Create chart instance */
        //         var chart = container.createChild(am4charts.XYChart);
        //         chart.paddingRight = 25;
        //
        //         /* Add data */
        //         chart.data = [{
        //             "category": "progreso",
        //             "value": 65,
        //             "target": 78
        //         }];
        //
        //         /* Create axes */
        //         var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
        //         categoryAxis.dataFields.category = "category";
        //         categoryAxis.renderer.minGridDistance = 30;
        //         categoryAxis.renderer.grid.template.disabled = true;
        //
        //         var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
        //         valueAxis.renderer.minGridDistance = 30;
        //         valueAxis.renderer.grid.template.disabled = true;
        //         valueAxis.min = 0;
        //         valueAxis.max = 100;
        //         valueAxis.strictMinMax = true;
        //         valueAxis.numberFormatter.numberFormat = "#'%'";
        //         valueAxis.renderer.baseGrid.disabled = true;
        //
        //         /*
        //             In order to create separate background colors for each range of values,
        //             you have to create multiple axisRange objects each with their own fill color
        //         */
        //         if (colorType === "solid") {
        //             var start = 0,
        //                 end = 20;
        //             for (var i = 0; i < 5; ++i) {
        //                 createRange(valueAxis, start, end, am4core.color(colors[i]));
        //                 start += 20;
        //                 end += 20;
        //             }
        //         }
        //         /*
        //             In order to create a gradient background, only one axisRange object is needed
        //             and a gradient object can be assigned to the axisRange's fill property.
        //         */
        //         else if (colorType === "gradient") {
        //             var gradient = new am4core.LinearGradient();
        //             for (var i = 0; i < 5; ++i) {
        //                 // add each color that makes up the gradient
        //                 gradient.addColor(am4core.color(colors[i]));
        //             }
        //             createRange(valueAxis, 0, 100, gradient);
        //         }
        //
        //         /* Create series */
        //         var series = chart.series.push(new am4charts.ColumnSeries());
        //         series.dataFields.valueX = "value";
        //         series.dataFields.categoryY = "category";
        //         series.columns.template.fill = am4core.color("#000");
        //         series.columns.template.stroke = am4core.color("#fff");
        //         series.columns.template.strokeWidth = 1;
        //         series.columns.template.strokeOpacity = 0.5;
        //         series.columns.template.height = am4core.percent(25);
        //         series.tooltipText = "{value}"
        //
        //
        //         var series2 = chart.series.push(new am4charts.StepLineSeries());
        //         series2.dataFields.valueX = "target";
        //         series2.dataFields.categoryY = "category";
        //         series2.strokeWidth = 3;
        //         series2.noRisers = true;
        //         series2.startLocation = 0.15;
        //         series2.endLocation = 0.85;
        //         series2.tooltipText = "{valueX}"
        //         series2.stroke = am4core.color("#000");
        //
        //         chart.cursor = new am4charts.XYCursor()
        //         chart.cursor.lineX.disabled = true;
        //         chart.cursor.lineY.disabled = true;
        //
        //         valueAxis.cursorTooltipEnabled = false;
        //         chart.arrangeTooltips = false;
        //     }
        //
        // }); // end am4core.ready()





    </script>

    <script th:src="${@resources.web('js/views/mi-meta.js', true)}"></script>

    <script type="text/javascript">
        $(function() {
            var miMeta = new MiMeta('[[@{/}]]');
            miMeta.init();
        });
    </script>

</th:block>

</body>
</html>